# warehouse_safety_yolo

# 🦺 Ανάπτυξη Προνοητικών Δεικτών Ασφαλείας με Μηχανική Όραση

Η εργασία αυτή αναπτύχθηκε στο πλαίσιο διπλωματικής εργασίας "Ανάπτυξη Προνοητικών Δεικτων Ασφαλείας με Μηχανική Όραση" και αφορά την **αυτόματη ανίχνευση και αξιολόγηση κινδύνου μεταξύ πεζών και περονοφόρων** σε βιομηχανικούς ή αποθηκευτικούς χώρους, με χρήση **YOLOv8**, **Kalman Filter** και **δεικτών προληπτικής ασφάλειας**.

---

## 🎯 Σκοπός
Η ανάπτυξη ενός συστήματος που:
- Ανιχνεύει πεζούς και περονοφόρα οχήματα σε πραγματικό χρόνο μέσω YOLO.
- Υπολογίζει δείκτες προληπτικής ασφάλειας:
  - **TTC (Time-To-Collision)**  
  - **TTCE (Time-To-Critical Event)**  
  - **DCE (Dynamic Criticality Estimate)**  
  - **FI (Fusion Index)**
- Παρουσιάζει γραφήματα και στατιστικά για κάθε ζεύγος αλληλεπίδρασης.

---

## ⚙️ Κύρια Αρχεία και Modules

| Αρχείο / Module | Περιγραφή |
|------------------|-----------|
| **Leading_Indicators_Cal.py** | Κύριος κώδικας. Ο χρήστης εισάγει βίντεο, γίνεται ανίχνευση και υπολογισμός των δεικτών και παραγώγων διαγραμμάτων. |
| **FUCTIONS.py** | Περιλαμβάνει τις μαθηματικές εξισώσεις, συναρτήσεις υπολογισμού δεικτών και Kalman φίλτρα. |
| **Try_models.py** | Επιτρέπει τη γρήγορη δοκιμή YOLO μοντέλων (π.χ. YOLOv8n, YOLOv8m, custom models). |
| **homography_points.py** | Επιλογή 4 σημείων πατώματος για υπολογισμό ομογραφίας και μετατροπή pixel → μέτρα. |
| **Dataset_develop.py** | Δημιουργία dataset (pose & detection) από ένα ή πολλαπλά βίντεο. |
| **CONVERT_TXT_to_JSON.py** | Μετατροπή δεδομένων pose από `.txt` σε `.json` για χρήση σε Roboflow ή άλλες πλατφόρμες annotation. |

---

## 📊 Αποτελέσματα
- Υπολογισμός και αποθήκευση δεικτών **TTC, TTCE, DCE, FI** ανά χρονικό πλαίσιο.
- Δημιουργία και αποθήκευση:
  - CSV αρχείων για κάθε δείκτη ανά ζεύγος πεζού–περονοφόρου.
  - Διαγραμμάτων για τη χρονική εξέλιξη των δεικτών.
  - Ιστογραμμάτων και θερμικών χαρτών κατηγοριών κινδύνου.
- Τα αποτελέσματα αποθηκεύονται στον φάκελο:
leading_indicators_results/
├── fi_timeseries_per_pair.csv
├── ttci_timeseries_per_pair.csv
├── means_per_time.csv
├── hist_w1_w2_matrix.png
└── outputs_crit_value/
├── fi_max_per_pair.csv
└── mins_per_pair.csv

## 🔧 Εγκατάσταση

```bash
git clone https://github.com/Thanasis19678/warehouse_safety_yolo.git
cd warehouse_safety_yolo
pip install -r requirements.txt
🚀 Εκτέλεση
Εκτέλεση κύριου κώδικα:

bash
Αντιγραφή κώδικα
python Leading_Indicators_Cal.py
Ο χρήστης καλείται να επιλέξει βίντεο προς ανάλυση.
Τα αποτελέσματα αποθηκεύονται αυτόματα.

🧠 Τεχνολογίες
Python 3.10+

OpenCV

NumPy, Pandas, Matplotlib

Ultralytics YOLOv8

Kalman Filter

👨‍💻 Συντάκτης
Αθανάσιος Τσαγκούρος 
Διπλωματική Εργασία — [Εθνικό Μετσόβιο Πολυτεχνείο / Μηχανολόγων Μηχανικών]
📘 GitHub: Thanasis19678
